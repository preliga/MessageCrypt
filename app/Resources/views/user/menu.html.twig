{% extends 'base.html.twig' %}

{% block menu %}
    <div class="navbar navbar-inverse navbar-twitch" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="{{ path('user_home_index') }}">
                    <i class="fa fa-weixin fa-2x" aria-hidden="true"></i>
                    <span class="logo">
                        <B>
                            <span class="full-nav">
                                MessageCrypt
                            </span>
                        </B>
                    </span>
                </a>
            </div>


            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li class="{% if 'user_home' in app.request.attributes.get('_route') %}active{% endif %}">
                        <a href="{{ path('user_home_index') }}">
                            <i class="fa fa-home fa-2x" aria-hidden="true"></i>
                            <span style="font-size: 20px;">
                                Home
                            </span>
                        </a>
                    </li>
                    <li class="{% if 'user_profile' in app.request.attributes.get('_route') %}active{% endif %}">
                        <a href="{{ path('user_profile_myprofile') }}">
                            <i class="fa fa-user-circle fa-2x" aria-hidden="true"></i>
                            <span style="font-size: 20px;">
                                Profile
                            </span>
                        </a>
                    </li>
                    <li class="dropdown {% if 'user_friends' in app.request.attributes.get('_route') %}active{% endif %}">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                           aria-expanded="false">
                            <i class="fa fa-users fa-2x" aria-hidden="true"></i>
                            <span style="font-size: 20px;">
                                Friends
                                {%  if countInvitations > 0 %}
                                    <div class="mainMenuAlert">
                                        <span>{{ countInvitations }}</span>
                                    </div>
                                {% endif %}
                            </span>
                            <div class="dropdown-menu list-group">
                                <a class="list-group-item" href="{{ path('user_friends_myfriends') }}">
                                    <i class="fa fa-users" aria-hidden="true"></i>
                                    <span style="font-size: 13px;">
                                        My friends
                                    </span>
                                </a>
                                <a class="list-group-item" href="{{ path('user_friends_search') }}">
                                    <i class="fa fa-search" aria-hidden="true"></i>
                                    <span style="font-size: 13px;">
                                        Search
                                    </span>
                                </a>
                                <a class="list-group-item {%  if countInvitations > 0 %}alertColor{% endif %}" href="{{ path('user_friends_invitations') }}">
                                    <i class="fa fa-envelope-open-o" aria-hidden="true"></i>
                                    <span style="font-size: 13px;">
                                        Invitations
                                    </span>
                                </a>
                            </div>
                    </li>
                    <li class="dropdown {% if 'user_message' in app.request.attributes.get('_route') %}active{% endif %}">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                           aria-expanded="false">
                            <i class="fa fa-envelope fa-2x" aria-hidden="true"></i>
                            <span style="font-size: 20px;">
                                Message
                                {%  if countInvitations > 0 %}
                                    <div class="mainMenuAlert">
                                        <span>{{ countInvitations }}</span>
                                    </div>
                                {% endif %}
                            </span>
                            <div class="dropdown-menu list-group">

                                {% for user in usersToMessages %}
                                    <a class="list-group-item" href="{{ path('user_message_showAll', {'friendId': user.id})}}">
                                        {#<div class="col-md-6">#}
                                            {% if user.avatar %}
                                                <img class='littleImg' src="{{ asset('uploads/avatars/' ~ user.avatar) }}">
                                            {% else %}
                                                <img class='littleImg' src='/images/empty.png'>
                                            {% endif %}
                                        {#</div>#}
                                        {#<div class="col-md-6" style="text-align: center;">#}
                                            <span style="font-size: 13px; ">
                                                {{  user.name }} {{ user.lastname }}
                                            </span>
                                        {#</div>#}
                                    </a>
                                {% endfor %}
                                {#<a class="list-group-item" href="{{ path('user_friends_search') }}">#}
                                    {#<i class="fa fa-search" aria-hidden="true"></i>#}
                                    {#<span style="font-size: 13px;">#}
                                        {#Search#}
                                    {#</span>#}
                                {#</a>#}
                                {#<a class="list-group-item {%  if countInvitations > 0 %}alertColor{% endif %}" href="{{ path('user_friends_invitations') }}">#}
                                    {#<i class="fa fa-envelope-open-o" aria-hidden="true"></i>#}
                                    {#<span style="font-size: 13px;">#}
                                        {#Invitations#}
                                    {#</span>#}
                                {#</a>#}
                            </div>
                    </li>
                    <li>
                        <a href="{{ path('logout') }}">
                            <i class="fa fa-power-off fa-2x" aria-hidden="true"></i>
                            <span style="font-size: 20px;">
                                Logout
                            </span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <br>
{% endblock %}

